# VK React App

# Описание выполненного задания

По условию задачи необходимо было разработать приложение с формой и таблицей, которые могут хранить произвольное количество полей, от 5.

Чтобы не изобретать велосипед и не придумывать поля ради полей, я решил опереться на мой pet-проект. Я разрабатываю TG mini app для паблика моей жены (она рисует и продает арты по K-POP фандомам). Фактически эта задача мне помогла продумать дополнительный функционал для моего проекта, буду выводить в админке таблицу с пользаками.

## Чек-лист выполнения

1. Таблица с полями от 5 и больше (изменяются динамически, в зависимости от того, как отработает форма. ✅️
2. Загрузка таблицы черещ <InfifnitScroll> с пагинацией по 10 элементов. ✅️
3. Стейт-менеджер используется mobX. ✅️
    3.A. Тут тоже стоит сказать спасибо вашему заданию, было интересно поизучать работу с mobX. Для такой задачи в вакууме использование стейт-менеджера может быть избыточно, но так как для меня эта задача имеет прикладное значение и часть задачи будет масштабироваться на большой проект, для меня использование стейт-менеджера оправдано.
4. Форма с полями от 5 и количество полей может динамически увеличиваться. Поле с URL имеет валидацию с проверкой корректности ссылки на изображение. При отправке формы отрабатывает стейт для кнопки (дизейблится и меняет текст на "Сохраняю"). ✅️
5. Форма отправляется по API, записи отображаются в таблице. ✅️
6. Код расположен на GitHub. ✅️
7. Написаны тесты для проверки получения списка пользователей и загрузке пользователя в базу. ✅️

## Как запустить локально

```bash
git clone https://github.com/junglejim98/VK_React_App.git
cd VK_React_App
npm install                 
npm run server              
npm start                   
npm test                    
```

## Технологии
- React 18 + TypeScript
- MobX v6
- React Hook Form + useFieldArray
- React-Bootstrap
- react-infinite-scroll-component
- json-server
- Jest + axios-mock-adapter


## API

GET - `/users?_start={offset}&_limit={limit}` - Получить список пользователей, отсортированных по created_at
POST - `/users` - Создать нового пользователя (поле id генерируется сервером)
GET  - `/addresses?is_deleted=false` - Получить все непомеченные как удалённые адреса
POST - `/addresses` - Создать новый адрес


## Основные моменты реализации
Типизация: 
`enum UserRole, interface User, interface Address, Omit<User,'id'>, Record<string,string>`.

API‑слой: 
`единый axios‑инстанс (baseURL), функции fetchUsersByOffset, addUser, fetchAllAddresses, addAddress`.

MobX‑Store:
`users: User[], addresses: Address[]`
`Асинхронные методы с async/await, runInAction, флаги загрузки и hasMoreUsers`.

Геттеры:
`dynamicFieldKeys — уникальные названия доп. полей, для шапки таблицы`.
`addressesForUser — группировка адресов по user_id`.

UI:
Форма (infoForm): 
`React Hook Form + useFieldArray, React‑Bootstrap Grid и Controls`.

Таблица (userTable): 
`Infinite Scroll + React‑Bootstrap Table, динамические колонки и адреса`.

Тестирование: 
`Mock‑адаптер axios, проверка совпадения URL, тесты на наполнение стора и флаг hasMoreUsers`.


Автор: LysenokGA · VK React App